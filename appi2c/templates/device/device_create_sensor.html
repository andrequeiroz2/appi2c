{% extends "base.html" %}

{% block script %}
<script language="JavaScript">
    function enable_text_pub(status) {
        status = !status;
        document.f1.topic_pub.disabled = status;
    }
</script>
{% endblock script %}

{% block body %}
onload="enable_text_pub(false)"
{% endblock body %}

{% block main %}
<form name=f1 method=post>
    <div class="container">
        <div class="columns is-centered is-vcentered is-mobile">

            <section class="section">
                <form method="POST" action="">
                    {{ form.hidden_tag() }}
                    <nav class="panel">
                        <p class="panel-heading">
                            {{title}}
                        </p>

                        <section class="section">

                            <div class="field">
                                {{ form.name.label }}
                                {% if form.name.errors %}
                                {{ form.name(class="input is-info is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.name.errors %}
                                    <p class="help is-danger">
                                        <span>{{ error }}</span>
                                    </p>
                                    {% endfor %}
                                </div>
                                {% else %}
                                {{ form.name(class="input is-info", type="text") }}
                                {% endif %}
                            </div>

                            <div class="field">
                                {{ form.topic_sub.label }}
                                {% if form.topic_sub.errors %}
                                {{ form.topic_sub(class="input is-info is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.topic_sub.errors %}
                                    <p class="help is-danger">
                                        <span>{{ error }}</span>
                                    </p>
                                    {% endfor %}
                                </div>
                                {% else %}
                                {{ form.topic_sub(class="input is-info", type="text") }}
                                {% endif %}
                            </div>

                            <p>
                                <label class="checkbox">
                                    <input type="checkbox" name=others onclick="enable_text_pub(this.checked)">
                                    Topic Publish
                                </label>
                            </p>
                            <div class="field">
                                {% if form.topic_pub.errors %}
                                {{ form.topic_pub(class="input is-info is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.topic_pub.errors %}
                                    <p class="help is-danger">
                                        <span>{{ error }}</span>
                                    </p>
                                    {% endfor %}
                                </div>
                                {% else %}
                                {{ form.topic_pub(class="input is-info", type="text") }}
                                {% endif %}
                            </div>

                            <div class="field">
                                {{ form.prefix.label }}
                                {% if form.prefix.errors %}
                                {{ form.prefix(class="input is-info is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.prefix.errors %}
                                    <p class="help is-danger">
                                        <span>{{ error }}</span>
                                    </p>
                                    {% endfor %}
                                </div>
                                {% else %}
                                {{ form.prefix(class="input is-info", type="text") }}
                                {% endif %}
                            </div>

                            <div class="field">
                                {{ form.postfix.label }}
                                {% if form.postfix.errors %}
                                {{ form.postfix(class="input is-info is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.postfix.errors %}
                                    <p class="help is-danger">
                                        <span>{{ error }}</span>
                                    </p>
                                    {% endfor %}
                                </div>
                                {% else %}
                                {{ form.postfix(class="input is-info", type="text") }}
                                {% endif %}
                            </div>

                            <div class="field">
                                {{ form.last_will_topic.label }}
                                {% if form.last_will_topic.errors %}
                                {{ form.last_will_topic(class="input is-info is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.last_will_topic.errors %}
                                    <p class="help is-danger">
                                        <span>{{ error }}</span>
                                    </p>
                                    {% endfor %}
                                </div>
                                {% else %}
                                {{ form.last_will_topic(class="input is-info", type="text") }}
                                {% endif %}
                            </div>

                            <div class="field">
                                {{ form.qos.label }}
                                {% if form.qos.errors %}
                                {{ form.qos(class="input is-info is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.qos.errors %}
                                    <p class="help is-danger">
                                        <span>{{ error }}</span>
                                    </p>
                                    {% endfor %}
                                </div>
                                {% else %}
                                <p>
                                <div class="select is-info">
                                    {{ form.qos(class="select is-info", type="text") }}
                                </div>
                                </p>
                                {% endif %}
                            </div>

                            <div class="field">
                                {{ form.retained.label }}
                                {% if form.retained.errors %}
                                {{ form.retained(class="input is-info is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.retained.errors %}
                                    <p class="help is-danger">
                                        <span>{{ error }}</span>
                                    </p>
                                    {% endfor %}
                                </div>
                                {% else %}
                                <p>
                                <div class="select is-info">
                                    {{ form.retained(class="select is-info", type="text") }}
                                </div>
                                </p>
                                {% endif %}
                            </div>

                            <div class="field">
                                {{ form.groups.label }}
                                {% if form.groups.errors %}
                                {{ form.groups(class="input is-info is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.groups.errors %}
                                    <p class="help is-danger">
                                        <span>{{ error }}</span>
                                    </p>
                                    {% endfor %}
                                </div>
                                {% else %}
                                <p>
                                <div class="select is-info">
                                    {{ form.groups(class="select is-info", type="text") }}
                                </div>
                                </p>
                                {% endif %}
                            </div>

                            <div class="field">
                                <p class="control">
                                    {{ form.submit(class="button is-primary") }}
                                </p>
                            </div>

                        </section>
                    </nav>
                </form>
            </section>
        </div>
    </div>
</form>
{% endblock main %}